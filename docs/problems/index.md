# 問題

## 「合意問題」の地図

すべての合意問題は、何らかの「前提条件」のもとに成り立っています。ここでは、古典的な**ビザンチン将軍問題**を出発点として、その前提条件を一つずつ変更していくと、どのような問題に姿を変えるのか、その関係性の地図を辿ってみましょう。

### 出発点：ビザンチン将軍問題

全ての基本となる物語です。

- **前提条件**:
  - **故障**: 裏切り者（ビザンチン故障）がいる
  - **通信**: 全員の通信は一定時間内に届く（同期ネットワーク）
  - **決定**: 「攻撃か撤退か」の2択（バイナリ値）

---

### 変更①：「通信」の仮定を変える

> もし、メッセージがいつ届くか分からないネットワークだったら？

* **[変更点]** **同期ネットワーク → 非同期ネットワーク**
* **[新しい問題]** → **[非同期ビザンチン合意 (ABA)](aba.md)**

現実のインターネットのように、通信の遅延が予測不能な状況を想定した、より困難な問題です。「返事が来ないのは、相手が裏切ったのか、単に通信が遅いだけなのか？」という究極の問いに挑みます。

### 変更②：「決定」の選択肢を増やす

> もし、選択肢が「攻撃か撤退か」の2択ではなかったら？

* **[変更点]** **バイナリ値の決定 → 複数の選択肢からの決定**
* **[新しい問題]** → **[多値ビザンチン合意 (MBA)](mba.md)**

「どのデータを書き込むか」「次のリーダーは誰か」など、より実践的な合意形成を扱います。多くの場合、この問題は基本部品であるABAを利用して解決されます。

### 変更③：「故障」のレベルを下げる

> もし、悪意ある裏切り者ではなく、単純に停止するだけの故障だったら？

* **[変更点]** **ビザンチン故障 → クラッシュ故障**
* **[新しい問題]** → **クラッシュ故障耐性を持つ合意 (RaftやPaxosなど)**

悪意を想定しないため、問題はよりシンプルになります。多くの実用的なシステム（分散データベースなど）で採用されているのが、この故障モデルに基づいたRaftやPaxosといったアルゴリズムです。

## 問題一覧

このサイトで解説する主な合意問題です。

- **[非同期ビザンチン合意 (ABA)](aba.md)**
    * 最も厳しい非同期の条件下で、「0か1か」に合意する、全ての基本となる問題。

- **[多値ビザンチン合意 (MBA)](mba.md)**
    * 複数の選択肢の中から一つを選んで合意する、より実践的な問題。
